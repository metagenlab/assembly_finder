{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"assembly_finder","text":"<p><code>assembly_finder</code> is a Snakemake CLI wrapper for NCBI datasets, written with Snaketool, for easy genome assembly downloads.</p>"},{"location":"#installation","title":"Installation","text":"Conda (recommended)gitApptainer <pre><code>conda create -n assembly_finder -c bioconda assembly_finder\n</code></pre> <p>Note</p> <p>Requires a Miniforge installation</p> <pre><code>git clone https://github.com/metagenlab/assembly_finder.git\npip install -e assembly_finder\n</code></pre> <p>Note</p> <p>Requires a Miniforge installation</p> <pre><code>apptainer pull docker://ghcr.io/metagenlab/assembly_finder:latest\n</code></pre>"},{"location":"#usage","title":"Usage","text":""},{"location":"#taxon","title":"Taxon","text":"<ul> <li>Download staphylococcus aureus reference genome</li> </ul> <pre><code>assembly_finder -i staphylococcus_aureus --reference\n</code></pre> <p>or </p> <pre><code>assembly_finder -i 1280 -r\n</code></pre>"},{"location":"#taxa","title":"Taxa","text":"<ul> <li>Find reference genomes for multiple taxa</li> </ul> <pre><code>assembly_finder -i 1290,1813735,114185 --reference\n</code></pre> <p>or </p> <pre><code>assembly_finder -i taxa.txt --reference\n</code></pre> <p>with <code>taxa.txt</code>:</p> <pre><code>1280\n1813735\n114185\n</code></pre>"},{"location":"#accessions","title":"Accessions","text":"<ul> <li>Download staphylococcus aureus reference genome using its assembly accession</li> </ul> <pre><code>assembly_finder --acc -i GCF_000013425.1\n</code></pre> <ul> <li>Download multiple accessions</li> </ul> <p><pre><code>assembly_finder --acc -i GCF_003812505.1,GCF_001618865.1,GCF_000287275.1  \n</code></pre> or</p> <p><pre><code>assembly_finder -i accessions.txt \n</code></pre> with <code>accessions.txt</code>:</p> <pre><code>GCF_003812505.1\nGCF_001618865.1\nGCF_000287275.1\n</code></pre>"},{"location":"#command-line-options","title":"Command-line options","text":""},{"location":"examples/","title":"Examples","text":""},{"location":"examples/#download-summary-tables","title":"Download summary tables","text":"<p>Starting from v0.8.0, you can restrict outputs to <code>assembly_summary.tsv</code> and <code>taxonomy.tsv</code></p> <ul> <li>Command</li> </ul> <pre><code>assembly_finder -i staphylococcus_aureus --reference --summary\n</code></pre> <ul> <li>Output</li> </ul> <pre><code>\ud83d\udcc2staphylococcus_aureus\n \u2523 \ud83d\udcc2logs\n \u2503 \u2523 \ud83d\udcc2taxons\n \u2503 \u2503 \u2517 \ud83d\udcdcstaphylococcus_aureus.log\n \u2503 \u2517\ud83d\udcdclineage.log\n \u2523 \ud83d\udcdcassembly_finder.log\n \u2523 \ud83d\udcdcassembly_summary.tsv\n \u2523 \ud83d\udcdcconfig.yaml\n \u2517 \ud83d\udcdctaxonomy.tsv\n</code></pre>"},{"location":"examples/#download-genomes","title":"Download genomes","text":""},{"location":"examples/#small-datasets","title":"Small datasets","text":"<ul> <li>Staphylococcus aureus complete genomes</li> </ul> <pre><code>assembly_finder -i staphylococcus_aureus \n</code></pre> <p>Note</p> <p>By default, assembly_finder searches assembly levels in the following order: complete, chromosome, scaffold, and contig.</p> <p>The search stops at the first assembly level where genomes are found.</p> <p>This behavior was introduced in v0.9.0 to allow finding the best genomes available for each taxon  </p> <ul> <li>All Staphylococcus aureus genomes </li> </ul> <pre><code>assembly_finder -i staphylococcus_aureus --all \n</code></pre> <p>Note</p> <p>The --all option disables the default iteration over assembly levels. When used, all genomes for the specified taxon are downloaded, regardless of their assembly level.</p> <ul> <li>Any Staphylococcus aureus complete genome</li> </ul> <pre><code>assembly_finder -i staphylococcus_aureus -nb 1 \n</code></pre>"},{"location":"examples/#big-datasets","title":"Big datasets","text":"<p>Warning</p> <p>These examples are for big datasets downloads, so using an NCBI api-key is highly recommended</p> <ul> <li>Download all chlamydia genomes</li> </ul> <pre><code>assembly_finder -i chlamydia --all --api-key &lt;api-key&gt;\n</code></pre> <ul> <li>Best ranking complete genome per bacteria species</li> </ul> <pre><code>assembly_finder -i eubacteria --api-key &lt;api-key&gt; --rank species --nrank 1\n</code></pre> <ul> <li>Complete bacteria viruses and archaea genomes from RefSeq (excluding MAGs and atypical)</li> </ul> <pre><code>assembly_finder -i eubacteria,viruses,archaea \\\n--api-key &lt;api-key&gt; \\\n--source refseq \\\n--mag exclude \\\n-o outdir\n</code></pre> <ul> <li>Specific bioproject</li> </ul> <pre><code>assembly_finder -i PRJNA289059 --api-key &lt;api-key&gt; --accession\n</code></pre>"},{"location":"examples/#download-other-files-cds-proteins-gff3","title":"Download other files (cds, proteins, gff3 ...)","text":"<p><pre><code>assembly_finder -i staphylococcus_aureus --reference \\\n--include rna,protein,cds,gff3,gtf,gbff,seq-report\n</code></pre> Output: <pre><code>\ud83d\udcc2staphylococcus_aureus\n \u2523 \ud83d\udcc2download\n \u2503 \u2523 \ud83d\udcc2GCF_000013425.1\n \u2503 \u2503 \u2523 \ud83d\udcdcGCF_000013425.1_ASM1342v1_genomic.fna.gz\n \u2503 \u2503 \u2523 \ud83d\udcdccds_from_genomic.fna.gz\n \u2503 \u2503 \u2523 \ud83d\udcdcgenomic.gbff.gz\n \u2503 \u2503 \u2523 \ud83d\udcdcgenomic.gff.gz\n \u2503 \u2503 \u2523 \ud83d\udcdcgenomic.gtf.gz\n \u2503 \u2503 \u2517 \ud83d\udcdcprotein.faa.gz\n \u2503 \u2503 \u2517 \ud83d\udcdcsequence_report.jsonl \n \u2503 \u2517 \ud83d\udcdc.snakemake_timestamp\n \u2523 \ud83d\udcc2logs\n \u2503 \u2523 \ud83d\udcc2taxons\n \u2503 \u2503 \u2517 \ud83d\udcdcstaphylococcus_aureus.log\n \u2503 \u2523 \ud83d\udcdcarchive.log\n \u2503 \u2523 \ud83d\udcdclineage.log\n \u2503 \u2523 \ud83d\udcdcrsync.log\n \u2503 \u2517 \ud83d\udcdcunzip.log\n \u2523 \ud83d\udcdcarchive.zip\n \u2523 \ud83d\udcdcassembly_finder.log\n \u2523 \ud83d\udcdcassembly_summary.tsv\n \u2523 \ud83d\udcdcconfig.yaml\n \u2517 \ud83d\udcdctaxonomy.tsv\n</code></pre></p>"},{"location":"inputs/","title":"Inputs","text":"<p>Input can be either a string or a table, and queries can be either taxa or accessions as shown in NCBI datasets docs.</p>"},{"location":"inputs/#strings","title":"Strings","text":"TaxonsAccessions <pre><code>assembly_finder -i 1290,staphylococcus_aureus,562 -nb 1 -o taxons\n</code></pre> <p>Note</p> <p>Taxons can be either taxids or taxon names</p> <pre><code>assembly_finder --accession -i GCF_003812505.1,GCF_000418345.1,GCF_000157115.2 \\\n-o accessions\n</code></pre> <p>Note</p> <p>Accessions can be bioproject or genome accessions see ncbi-datasets docs</p>"},{"location":"inputs/#tables","title":"Tables","text":"TaxonsAccessions taxon nb 1290 1 staphylococcus_aureus 1 562 1 <p>Note</p> <p>You can set the number of genomes per taxon in the table</p> GCF_003812505.1 GCF_000418345.1 GCF_000157115.2 <p>Note</p> <p>The accession table does not have a header</p>"},{"location":"outputs/","title":"Outputs","text":"<p>Below are all the outputs when using the taxons table example <pre><code>\ud83d\udcc2taxons\n \u2523 \ud83d\udcc2download\n \u2503 \u2523 \ud83d\udcc2GCF_000008865.2\n \u2503 \u2503 \u2517 \ud83d\udcdcGCF_000008865.2_ASM886v2_genomic.fna.gz\n \u2503 \u2523 \ud83d\udcc2GCF_000013425.1\n \u2503 \u2503 \u2517 \ud83d\udcdcGCF_000013425.1_ASM1342v1_genomic.fna.gz\n \u2503 \u2523 \ud83d\udcc2GCF_003812505.1\n \u2503 \u2503 \u2517 \ud83d\udcdcGCF_003812505.1_ASM381250v1_genomic.fna.gz\n \u2503 \u2517 \ud83d\udcdc.snakemake_timestamp\n \u2523 \ud83d\udcc2logs\n \u2503 \u2523 \ud83d\udcc2taxons\n \u2503 \u2503 \u2523 \ud83d\udcdc1290.log\n \u2503 \u2503 \u2523 \ud83d\udcdc562.log\n \u2503 \u2503 \u2517 \ud83d\udcdcstaphylococcus_aureus.log\n \u2503 \u2523 \ud83d\udcdcarchive.log\n \u2503 \u2523 \ud83d\udcdclineage.log\n \u2503 \u2523 \ud83d\udcdcrsync.log\n \u2503 \u2517 \ud83d\udcdcunzip.log\n \u2523 \ud83d\udcdcarchive.zip\n \u2523 \ud83d\udcdcassembly_finder.log\n \u2523 \ud83d\udcdcassembly_summary.tsv\n \u2523 \ud83d\udcdcconfig.yaml\n \u2517 \ud83d\udcdctaxonomy.tsv\n</code></pre></p>"},{"location":"outputs/#download-directory","title":"Download directory","text":"<p>Downloaded files (<code>genomic.fna.gz</code> by default) are located in the download directory as shown below <pre><code> \u2523 \ud83d\udcc2download\n \u2503 \u2523 \ud83d\udcc2GCF_000008865.2\n \u2503 \u2503 \u2517 \ud83d\udcdcGCF_000008865.2_ASM886v2_genomic.fna.gz\n \u2503 \u2523 \ud83d\udcc2GCF_000013425.1\n \u2503 \u2503 \u2517 \ud83d\udcdcGCF_000013425.1_ASM1342v1_genomic.fna.gz\n \u2503 \u2523 \ud83d\udcc2GCF_003812505.1\n \u2503 \u2503 \u2517 \ud83d\udcdcGCF_003812505.1_ASM381250v1_genomic.fna.gz\n</code></pre></p>"},{"location":"outputs/#assembly-summary","title":"Assembly summary","text":"<p>Table with assembly informations such as assembly level, reference category, checkM and BUSCO completeness, sequencing technology, number of contigs ...</p> taxon accession current_accession paired_accession source_database annotation_info.method annotation_info.name annotation_info.pipeline annotation_info.provider annotation_info.release_date annotation_info.software_version annotation_info.stats.gene_counts.non_coding annotation_info.stats.gene_counts.protein_coding annotation_info.stats.gene_counts.pseudogene annotation_info.stats.gene_counts.total assembly_level assembly_method assembly_name assembly_status assembly_type bioproject_accession biosample.accession biosample.bioprojects biosample.description.organism_name biosample.description.tax_id biosample.description.title biosample.last_updated biosample.models biosample.owner.contacts biosample.owner.name biosample.package biosample.publication_date biosample.status.status biosample.status.when biosample.submission_date paired_assembly.accession paired_assembly.annotation_name paired_assembly.status refseq_category release_date sequencing_tech submitter contig_l50 contig_n50 gc_count gc_percent genome_coverage number_of_component_sequences number_of_contigs number_of_scaffolds scaffold_l50 scaffold_n50 total_number_of_chromosomes total_sequence_length total_ungapped_length average_nucleotide_identity.best_ani_match.ani average_nucleotide_identity.best_ani_match.assembly average_nucleotide_identity.best_ani_match.assembly_coverage average_nucleotide_identity.best_ani_match.category average_nucleotide_identity.best_ani_match.organism_name average_nucleotide_identity.best_ani_match.type_assembly_coverage average_nucleotide_identity.category average_nucleotide_identity.comment average_nucleotide_identity.match_status average_nucleotide_identity.submitted_ani_match.ani average_nucleotide_identity.submitted_ani_match.assembly average_nucleotide_identity.submitted_ani_match.assembly_coverage average_nucleotide_identity.submitted_ani_match.category average_nucleotide_identity.submitted_ani_match.organism_name average_nucleotide_identity.submitted_ani_match.type_assembly_coverage average_nucleotide_identity.submitted_organism average_nucleotide_identity.submitted_species average_nucleotide_identity.taxonomy_check_status checkm_info.checkm_marker_set checkm_info.checkm_marker_set_rank checkm_info.checkm_species_tax_id checkm_info.checkm_version checkm_info.completeness checkm_info.completeness_percentile checkm_info.contamination infraspecific_names.strain organism_name tax_id path staphylococcus_aureus GCF_000013425.1 GCF_000013425.1 GCA_000013425.1 SOURCE_DATABASE_REFSEQ na Annotation submitted by NCBI RefSeq na NCBI RefSeq 2016-08-03 na 75 2767 30 2872 Complete Genome na ASM1342v1 current haploid PRJNA237 SAMN02604235 [{'accession': 'PRJNA237'}] Staphylococcus aureus subsp. aureus NCTC 8325 93061 Sample from Staphylococcus aureus subsp. aureus NCTC 8325 2015-05-18T13:21:01.110 ['Generic'] na NCBI Generic.1.0 2014-01-30T15:13:19.920 live 2014-01-30T15:13:19.920 2014-01-30T15:13:19.920 GCA_000013425.1 Annotation submitted by University of Oklahoma Health Sciences Center current reference genome 2006-02-13 na University of Oklahoma Health Sciences Center 1 2821361 927332 33 na 1 1 1 1 2821361 1 2821361 2821361 99.94 GCA_006094915.1 96.32 type Staphylococcus aureus 97.66 category_na na species_match 99.94 GCA_006094915.1 96.32 type Staphylococcus aureus 97.66 Staphylococcus aureus subsp. aureus NCTC 8325 Staphylococcus aureus OK Staphylococcus aureus species 1280 v1.2.2 97.59 19.683367 0.39 NCTC 8325 Staphylococcus aureus subsp. aureus NCTC 8325 93061 /path/to/genome/GCF_000013425.1/GCF_000013425.1_ASM1342v1_genomic.fna.gz 562 GCF_000008865.2 GCF_000008865.2 GCA_000008865.2 SOURCE_DATABASE_REFSEQ na Annotation submitted by NCBI RefSeq na NCBI RefSeq 2021-02-12 na 126 5155 136 5417 Complete Genome na ASM886v2 current haploid PRJNA226 SAMN01911278 [{'accession': 'PRJNA226'}] Escherichia coli O157:H7 str. Sakai 386585 Bacterial, clinical or host-associated sample for Escherichia coli O157:H7 str. SAKAI (EHEC) 2019-05-23T15:25:40.989 ['Pathogen.ba-cl'] [{}] ATCC Pathogen.cl.1.0 2013-02-05T00:00:00.000 live 2014-11-20T09:44:57 2013-02-05T09:09:06.203 GCA_000008865.2 Annotation submitted by GIRC current reference genome 2018-06-08 na GIRC 1 5498578 2824389 50.5 na 3 3 3 1 5498578 3 5594605 5594605 99.97 GCA_001281725.1 94.32 claderef Escherichia coli 99.57 category_na na species_match 99.97 GCA_001281725.1 94.32 claderef Escherichia coli 99.57 Escherichia coli O157:H7 str. Sakai Escherichia coli OK Escherichia coli species 562 v1.2.2 99.51 92.85564 0.15 Sakai substr. RIMD 0509952 Escherichia coli O157:H7 str. Sakai 386585 /path/to/genome/GCF_000008865.2/GCF_000008865.2_ASM886v2_genomic.fna.gz 1290 GCF_003812505.1 GCF_003812505.1 GCA_003812505.1 SOURCE_DATABASE_REFSEQ Best-placed reference protein set; GeneMarkS-2+ GCF_003812505.1-RS_2024_03_28 NCBI Prokaryotic Genome Annotation Pipeline (PGAP) NCBI RefSeq 2024-03-28 6.7 85 2142 35 2262 Complete Genome SMRT v. 2.3.0, HGAP v. 3.0 ASM381250v1 current haploid PRJNA231221 SAMN10163251 [{'accession': 'PRJNA231221'}] Staphylococcus hominis 1290 Pathogen: clinical or host-associated sample from Staphylococcus hominis 2019-05-14T13:08:20.304 ['Pathogen.cl'] [{}] US Food and Drug Administration Pathogen.cl.1.0 2018-10-02T00:00:00.000 live 2018-10-02T12:23:11.101 2018-10-02T12:23:11.100 GCA_003812505.1 NCBI Prokaryotic Genome Annotation Pipeline (PGAP) current representative genome 2018-11-21 PacBio; Illumina US Food and Drug Administration 1 2220494 713682 31.5 19.6x 3 3 3 1 2220494 3 2257431 2257431 99.99 GCA_900458635.1 98.99 type Staphylococcus hominis 99.01 category_na na species_match 99.99 GCA_900458635.1 98.99 type Staphylococcus hominis 99.01 Staphylococcus hominis Staphylococcus hominis OK Staphylococcus hominis species 1290 v1.2.2 90.97 47.945206 2.63 FDAARGOS_575 Staphylococcus hominis 1290 /path/to/genome/GCF_003812505.1/GCF_003812505.1_ASM381250v1_genomic.fna.gz <p>Note</p> <p>Some columns were removed for visual clarity</p>"},{"location":"outputs/#taxonomy","title":"Taxonomy","text":"<p>Table containing the full lineage from kingdom to species of each tax_id</p> accession tax_id name rank kingdom phylum class order family genus species GCF_000013425.1 93061 Staphylococcus aureus subsp. aureus NCTC 8325 strain Bacteria Bacillota Bacilli Bacillales Staphylococcaceae Staphylococcus Staphylococcus aureus GCF_000008865.2 386585 Escherichia coli O157:H7 str. Sakai strain Bacteria Pseudomonadota Gammaproteobacteria Enterobacterales Enterobacteriaceae Escherichia Escherichia coli GCF_003812505.1 1290 Staphylococcus hominis species Bacteria Bacillota Bacilli Bacillales Staphylococcaceae Staphylococcus Staphylococcus hominis"}]}